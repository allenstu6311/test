import{l as c,s as I,m as T,k as w,o as r,c as s,b as e,d as i,e as _,v as b,C as h,p as g,F as p,q as m,t as C,f as Q}from"./index-55faa955.js";import{t as S,a as $}from"./11_08-ed8f2ac7.js";const L=["background"],O={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},R={valign:"top"},j={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},z=["background"],G={border:"0",cellspacing:"0",cellpadding:"5"},H=e("option",{value:null},"請選擇年份",-1),J=["value"],K={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},P={width:"100%",border:"0",cellspacing:"1",cellpadding:"5"},W={bgcolor:"#E7F0C9"},X={width:"31%",bgcolor:"#E7F0C9"},Z=e("option",{value:null,selected:"",disabled:""},"請選擇縣市",-1),ee=["value"],te={width:"29%"},le=["value"],ae={width:"29%"},ne=["value"],ue={key:0},se={__name:"QueryTable",props:["queryMode"],emits:["parser"],setup(V,{expose:F,emit:x}){const M=V,D=c([]),B=c([]),f=c([]),v=c([]),d=c(null),a=c(null),u=c(null),n=c(null),k=c({year:d.value,branchCity:a.value,branchCityArea:u.value,branchName:n.value});I(()=>{N(),q()}),F({clearInput:E}),T([d,a,u,n],()=>{var l;let o="";n.value&&(o=(l=v.value.filter(t=>t.name==n.value))==null?void 0:l[0].brueauValue),k.value={year:d.value,branchCity:a.value,branchCityArea:u.value,branchName:n.value,brueauValue:o},M.queryMode||x("parser",k.value)});function N(){const l=new Date().getFullYear()-1911;for(let t=92;t<=l;t++)D.value.push({text:`${t}年度`,value:t+1911})}function q(){w.get("/api/branch/getDistinctCity").then(o=>{B.value=o})}function A(){u.value=null,n.value=null,f.value=[],v.value=[],a.value&&w.get("/api/branch/getDistinctCityarea",{params:{city:a.value}}).then(o=>{f.value=o})}function U(){n.value=null,v.value=[],!(!a.value||!u.value)&&w.get("/api/branch/getByCityAndCityarea",{params:{city:a.value,cityarea:u.value}}).then(o=>{v.value=o})}function Y(){x("parser",k.value)}function E(){d.value=null,a.value=null,u.value=null,n.value=null}return(o,l)=>(r(),s(p,null,[e("tr",null,[e("td",{background:i(S),style:{width:"100%"}},[e("table",O,[e("tbody",null,[e("tr",null,[e("td",R,[e("table",j,[e("tbody",null,[e("tr",null,[e("td",{height:"44",background:i($),style:{width:"800px"}},[e("table",G,[e("tbody",null,[e("tr",null,[e("td",null,[_(" 不經濟地區普及服務具體執行成果案例描述----- "),b(e("select",{id:"year",name:"year","onUpdate:modelValue":l[0]||(l[0]=t=>g(d)?d.value=t:null)},[H,(r(!0),s(p,null,m(i(D),t=>(r(),s("option",{value:t.value,key:t.value},C(t.text),9,J))),128))],512),[[h,i(d)]])])])])])],8,z)])])])])])])])],8,L)]),e("tr",null,[e("table",K,[e("tbody",null,[e("tr",null,[e("td",null,[e("table",P,[e("tbody",null,[e("tr",W,[e("td",X,[_(" 縣市別--- "),b(e("select",{name:"city","onUpdate:modelValue":l[1]||(l[1]=t=>g(a)?a.value=t:null),onChange:l[2]||(l[2]=t=>A())},[Z,(r(!0),s(p,null,m(i(B),(t,y)=>(r(),s("option",{key:y,value:t},C(t),9,ee))),128))],544),[[h,i(a)]])]),e("td",te,[_(" 鄉鎮別--- "),b(e("select",{name:"cityarea","onUpdate:modelValue":l[3]||(l[3]=t=>g(u)?u.value=t:null),onChange:U},[(r(!0),s(p,null,m(i(f),(t,y)=>(r(),s("option",{key:y,value:t},C(t),9,le))),128))],544),[[h,i(u)]])]),e("td",ae,[_(" 交換局別--- "),b(e("select",{name:"text03","onUpdate:modelValue":l[4]||(l[4]=t=>g(n)?n.value=t:null)},[(r(!0),s(p,null,m(i(v),(t,y)=>(r(),s("option",{key:y,value:t.name},C(t.name),9,ne))),128))],512),[[h,i(n)]])]),V.queryMode?(r(),s("td",ue,[e("button",{type:"button",onClick:Y},"查詢")])):Q("",!0)])])])])])])])])],64))}};export{se as _};
