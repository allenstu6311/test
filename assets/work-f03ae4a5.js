import{_ as L,a as T,b as B}from"./EditTable-85ad9dfd.js";import{u as D,l as _,s as N,k as y,o as i,c as p,b as t,d as l,F as v,q as H,t as c,m as z,n as g,f as h,p as k}from"./index-55faa955.js";import{t as I,a as w}from"./11_08-ed8f2ac7.js";import"./QueryTable-acb810f9.js";const S=""+new URL("028_02_m1-99fe86bc.gif",import.meta.url).href,x="data:image/gif;base64,R0lGODlhFAMKAKIAAP///+Tp2/z8+/H07evv5Pf49N7k0wAAACH5BAAAAAAALAAAAAAUAwoAAAP/CLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987//AoHBILBqPyKRyydQIntCodEqtWq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOrxbu+Lx+z+/7/4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucfQOfoKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxKUEx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zNAe/w8fLz9PX29/j5+vv8/f7/AAMKHEiwoMGDCBMqXMiwocOHECNKnEixHgADGDNq3MixNKPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJsyfHJkCDCh1KtKjRo0h9JAAAOw==",V=t("tr",null,[t("td",{style:{"line-height":"0"}},[t("img",{src:S,width:"800",height:"49"})])],-1),M=["background"],O={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},E=t("td",{width:"5",valign:"top"},null,-1),J={valign:"top"},j={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},R={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},U={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},F=["background"],G=t("table",{width:"100%",border:"0",cellspacing:"0",cellpadding:"5"},[t("tbody",null,[t("tr",null,[t("td",null,[t("strong",null,"數位影像圖片審核")])])])],-1),X=[G],$=t("tr",null,[t("td",{style:{"line-height":"0"}},[t("table",{width:"100%",border:"0",cellspacing:"1",cellpadding:"5"},[t("tbody",null,[t("tr",null,[t("td",{style:{"line-height":"0"}},[t("p",{align:"center"},"您無待審核案件")])])])])])],-1),Q=t("tr",null,[t("td",{style:{"line-height":"0"}},[t("img",{src:x,width:"788",height:"10"})])],-1),W=t("tr",null,[t("td",{style:{"line-height":"0"}})],-1),Y={width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},Z=["background"],tt=t("table",{width:"100%",border:"0",cellspacing:"0",cellpadding:"5"},[t("tbody",null,[t("tr",null,[t("td",null,[t("strong",null,"普及服務應用審核")])])])],-1),et=[tt],lt={width:"100%",border:"0",cellspacing:"1",cellpadding:"5",class:"tableStyle"},nt=t("tr",{bgcolor:"#D8E7A5"},[t("td",null,[t("div",{align:"center"},"執行年度")]),t("td",null,[t("div",{align:"center"},"交換局名")]),t("td",null,[t("div",{align:"center"},"背景簡述")]),t("td",null,[t("div",{align:"center"},"救災事實描述")]),t("td",null,[t("div",{align:"center"},"具體事蹟描述")]),t("td",null,[t("div",{align:"center"},"執行")])],-1),at=["onClick"],ot=t("tr",null,[t("td",{style:{"line-height":"0"}},[t("img",{src:x,width:"788",height:"10"})])],-1),st=t("td",{width:"5",valign:"top"},null,-1),dt={__name:"PendingCaseTable",props:["modelValue"],emits:["parser"],setup(q,{emit:u}){D();const n=_([]);N(()=>{a()});function a(){y.get("/api/form/todos").then(r=>{n.value=r})}function s(r){u("parser",r)}return(r,A)=>(i(),p(v,null,[V,t("tr",null,[t("td",{background:l(I)},[t("table",O,[t("tbody",null,[t("tr",null,[E,t("td",J,[t("table",j,[t("tbody",null,[t("tr",null,[t("td",null,[t("table",R,[t("tbody",null,[t("tr",null,[t("td",null,[t("table",U,[t("tbody",null,[t("tr",null,[t("td",{height:"44",background:l(w)},X,8,F)]),$,Q])])])]),W,t("tr",null,[t("td",null,[t("table",Y,[t("tbody",null,[t("tr",null,[t("td",{height:"44",background:l(w)},et,8,Z)]),t("tr",null,[t("td",null,[t("table",lt,[t("tbody",null,[nt,(i(!0),p(v,null,H(l(n),(d,m)=>(i(),p("tr",{key:m},[t("td",null,c(d.year-1911+"年度"),1),t("td",null,c(d.branchName),1),t("td",null,c(d.backgroundText),1),t("td",null,c(d.disasterText),1),t("td",null,c(d.descriptionText),1),t("td",null,[t("input",{type:"button",value:"暫存編輯",name:"verify_tab",onClick:e=>s(d.formId)},null,8,at)])]))),128))])])])]),ot])])])])])])])])])])]),st])])])],8,M)])],64))}};const _t={__name:"work",setup(q){const u=D(),n=_(1),a=_({}),s=_([]),r=_({});function A(e){if(e&&e.length){a.value=e[0],s.value=e[1],n.value++;let o={params:{formId:e[0].id}};y.get("/api/form/getStatusBtn",o).then(b=>{r.value=b})}else n.value--}function d(e){n.value=n.value+e}function m(e){y.get("/api/form/get",{params:{formId:e}}).then(async o=>{a.value=o,s.value=[],s.value=await u.getImgDataArray(o),s.value.length===o.proof.length&&n.value++})}return z(()=>u.stepValue,e=>{e==1&&(n.value=e),u.stepValue=0}),(e,o)=>{const b=dt,P=L,C=T,K=B;return i(),p(v,null,[l(n)==1?(i(),g(b,{key:0,onParser:m})):h("",!0),l(n)===2?(i(),g(P,{key:1,onParser:A,modelValue:l(a),"onUpdate:modelValue":o[0]||(o[0]=f=>k(a)?a.value=f:null),imgData:l(s)},null,8,["modelValue","imgData"])):h("",!0),l(n)===3?(i(),g(C,{key:2,onParser:d,modelValue:l(a),"onUpdate:modelValue":o[1]||(o[1]=f=>k(a)?a.value=f:null),imgData:l(s),btnStatus:l(r)},null,8,["modelValue","imgData","btnStatus"])):h("",!0),l(n)===4?(i(),g(K,{key:3,state:l(a).status},null,8,["state"])):h("",!0)],64)}}};export{_t as default};
